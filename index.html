<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Agent</title>
    <link rel="stylesheet" href="css/stylesheet.css">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
</head>

<body>
    <div id="image" >
        <img src="/images/">
    </div>
<button id="button">Nouvel agent</button>
<p id="number">
</body>
<script>
    if(localStorage.getItem("count")){
        clickcount=parseInt(localStorage.getItem("count"))
    }
    else{
        localStorage.setItem("count",1)
        clickcount=0
    }
    const selectagent=async()=>{
        clickcount=(clickcount+1)
        const response = await fetch("https://www.random.org/integers/?num=1&min=1&max=24&col=1&base=10&format=plain&rnd=new")
        const data=await response.json()
        const img=document.querySelector('img')
        img.src=`images/${data}.webp`
        localStorage.setItem("count",clickcount)
        document.querySelector('#number').textContent=`Tu as cliqu√© ${localStorage.getItem("count")} fois :)`
    }
    selectagent()
    document.querySelector('button').addEventListener('click',selectagent)
    
</script>
</html>